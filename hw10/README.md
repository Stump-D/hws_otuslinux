# **Домашнее задание №10: Первые шаги с Ansible**

## **Задание:**

Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:
- необходимо использовать модуль yum/apt
- конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными
- после установки nginx должен быть в режиме enabled в systemd
- должен быть использован notify для старта nginx после установки
- сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible
* Сделать все это с использованием Ansible роли

Домашнее задание считается принятым, если:
- предоставлен Vagrantfile и готовый playbook/роль ( инструкция по запуску стенда, если посчитаете необходимым )
- после запуска стенда nginx доступен на порту 8080
- при написании playbook/роли соблюдены перечисленные в задании условия
Критерии оценки: Ставим 5 если создан playbook
Ставим 6 если написана роль

## **Выполнено:**

Использован [Vagrantfile](./Ansible/Vagrantfile)

Запускаем:
```
[root@4otus Ansible]# ansible-playbook playbooks/nginx.yml

PLAY [NGINX | Install and configure NGINX] **********************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************************
ok: [nginxhost]

TASK [nginx : NGINX | Install EPEL Repo package] ****************************************************************************************************
ok: [nginxhost]

TASK [nginx : NGINX | Install NGINX package from EPEL Repo] *****************************************************************************************
ok: [nginxhost]

TASK [nginx : Configure html file | Config html file from template] *********************************************************************************
ok: [nginxhost]

TASK [nginx : NGINX | Create NGINX config file from template] ***************************************************************************************
ok: [nginxhost]

PLAY RECAP ******************************************************************************************************************************************
nginxhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

Проверяем:
```
[root@4otus hw10]# curl http://192.168.11.150:8080
# Ansible managed
<h1> Welcome to nginxhost </h1>
```