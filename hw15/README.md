# **Домашнее задание №15: разворачиваем сетевую лабораторию**

## **Задание:**
# otus-linux
Vagrantfile - для стенда урока 9 - Network

# Дано
https://github.com/erlong15/otus-linux/tree/network
(ветка network)

Vagrantfile с начальным построением сети
- inetRouter
- centralRouter
- centralServer

тестировалось на virtualbox

# Планируемая архитектура
построить следующую архитектуру

Сеть office1
- 192.168.2.0/26 - dev
- 192.168.2.64/26 - test servers
- 192.168.2.128/26 - managers
- 192.168.2.192/26 - office hardware

Сеть office2
- 192.168.1.0/25 - dev
- 192.168.1.128/26 - test servers
- 192.168.1.192/26 - office hardware


Сеть central
- 192.168.0.0/28 - directors
- 192.168.0.32/28 - office hardware
- 192.168.0.64/26 - wifi

```
Office1 ---\
-----> Central --IRouter --> internet
Office2----/
```
Итого должны получится следующие сервера
- inetRouter
- centralRouter
- office1Router
- office2Router
- centralServer
- office1Server
- office2Server

# Теоретическая часть
- Найти свободные подсети
- Посчитать сколько узлов в каждой подсети, включая свободные
- Указать broadcast адрес для каждой подсети
- проверить нет ли ошибок при разбиении

# Практическая часть
- Соединить офисы в сеть согласно схеме и настроить роутинг
- Все сервера и роутеры должны ходить в инет черз inetRouter
- Все сервера должны видеть друг друга
- у всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи
- при нехватке сетевых интервейсов добавить по несколько адресов на интерфейс


Критерии оценки: 4 - сделана хотя бы часть
5 - все сделано

## **Выполнено:**

# Теоретическая часть

1. Для сети office1

|   Сеть office1  |    Адрес подсети |                 HostMin,HostMax,Hosts/Net                 |   Broadcast   |           Адрес подсети (binary)       |
|:---------------:|:----------------:|:---------------------------------------------------------:|:-------------:|:--------------------------------------:|
| dev             | 192.168.2.0/26   | HostMin:192.168.2.1,HostMax:192.168.2.62,Hosts/Net: 62    | 192.168.2.63  | 11000000.10101000.00000010.00 000000   |
| test servers    | 192.168.2.64/26  | HostMin:192.168.2.65,HostMax: 192.168.2.126 Hosts/Net: 62 | 192.168.2.127 | 11000000.10101000.00000010.01 000000   |
| managers        | 192.168.2.128/26 | HostMin:192.168.2.129,HostMax:192.168.2.190 Hosts/Net: 62 | 192.168.2.191 | 11000000.10101000.00000010.10 000000   |
| office hardware | 192.168.2.192/26 | HostMin:192.168.2.193,HostMax:192.168.2.254,Hosts/Net: 62 | 192.168.2.255 | 11000000.10101000.00000010.11 000000   |


Свободных подсетей - нет. Ошибок разбиения - нет.

2. Для сети office2

|   Сеть office2  |    Адрес подсети |                 HostMin,HostMax,Hosts/Net                 |   Broadcast   |           Адрес подсети (binary)         |
|:---------------:|:----------------:|:-----------------------------------------------------------:|:-------------:|:--------------------------------------:|
| dev             | 192.168.1.0/25   | HostMin:,192.168.1.1,HostMax:,192.168.1.126,Hosts/Net: 126  | 192.168.1.127 | 11000000.10101000.00000001.0 0000000   |
| test servers    | 192.168.1.128/26 | HostMin:,192.168.1.129,HostMax:,192.168.1.190,Hosts/Net: 62 | 192.168.1.191 | 11000000.10101000.00000001.10 000000   |
| office hardware | 192.168.1.192/26 | HostMin:,192.168.1.129,HostMax:,192.168.1.190,Hosts/Net: 62 | 192.168.1.255 | 11000000.10101000.00000001.11 000000   |

Свободных подсетей - нет. Ошибок разбиения - нет.

3. Для сети central

|   Сеть central  |   Адрес подсети |                 HostMin,HostMax,Hosts/Net                |   Broadcast   |           Адрес подсети (binary)       |
|:---------------:|:---------------:|:--------------------------------------------------------:|:-------------:|:--------------------------------------:|
| directors       | 192.168.0.0/28  | HostMin:192.168.0.1,HostMax:192.168.0.14,Hosts/Net: 14   | 192.168.0.15  | 11000000.10101000.00000000.0000 0000   |
| office hardware | 192.168.0.32/28 | HostMin:192.168.0.33,HostMax:192.168.0.46,Hosts/Net: 14  | 192.168.0.47  | 11000000.10101000.00000000.0010 0000   |
| wifi            | 192.168.0.64/26 | HostMin:192.168.0.65,HostMax:192.168.0.126,Hosts/Net: 62 | 192.168.0.127 | 11000000.10101000.00000000.01 000000   |

Явных ошибок разбиения - нет. Для оптимизации свободного адресного пространства под будущие подсети лучше было бы спланировать сеть следующим образом:

|   Сеть central  |   Адрес подсети |                 HostMin,HostMax,Hosts/Net               |   Broadcast  |           Адрес подсети (binary)       |
|:---------------:|:---------------:|:-------------------------------------------------------:|:------------:|:--------------------------------------:|
| wifi            | 192.168.0.0/26  | HostMin:192.168.0.1,HostMax:192.168.0.62,Hosts/Net: 62  | 192.168.0.63 | 11000000.10101000.00000000.00 000000   |
| directors       | 192.168.0.64/28 | HostMin:192.168.0.65,HostMax:192.168.0.78,Hosts/Net: 14 | 192.168.0.79 | 11000000.10101000.00000000.0100 0000   |
| office hardware | 192.168.0.80/28 | HostMin:192.168.0.81,HostMax:192.168.0.94,Hosts/Net: 14 | 192.168.0.95 | 11000000.10101000.00000000.0101 0000   |


Свободные подсети central

